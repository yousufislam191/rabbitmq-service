{
    "info": {
        "_postman_id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
        "name": "RabbitMQ Batch Update API - Production Ready v3.0",
        "description": "Complete API collection for RabbitMQ Batch Update project - Production Ready Version with 31+ endpoints\n\nüéØ **Latest Updates (v3.0):**\n- ‚úÖ Enhanced Sequential Scheduler: processes pending ‚Üí processing ‚Üí failed (with retry)\n- ‚úÖ Advanced retry mechanisms for failed documents\n- ‚úÖ Complete processing for stuck documents\n- ‚úÖ MongoDB validation error handling with graceful fallbacks\n- ‚úÖ 31+ endpoints fully tested and verified\n- ‚úÖ Production-ready with robust error handling\n\nüìä **Performance:**\n- 8,000+ docs/sec processing speed\n- 31+ verified endpoints\n- Sequential processing priority\n- Graceful error handling\n- Zero downtime operations\n- Automated retry mechanisms\n\nüîÑ **Scheduler Features:**\n- Automatic processing every minute\n- Step 1: Process pending documents\n- Step 2: Complete processing documents\n- Step 3: Retry failed documents\n- Comprehensive logging and monitoring",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
        "_exporter_id": "12345678",
        "version": {
            "major": 3,
            "minor": 0,
            "patch": 0
        }
    },
    "item": [
        {
            "name": "üè• Health & Monitoring",
            "description": "System health checks and monitoring endpoints",
            "item": [
                {
                    "name": "General Health Check",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/health",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "health"
                            ]
                        },
                        "description": "Check overall application health including database connection"
                    }
                },
                {
                    "name": "Liveness Probe",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/health/live",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "health",
                                "live"
                            ]
                        },
                        "description": "Kubernetes liveness probe - verify application is running"
                    }
                },
                {
                    "name": "Readiness Probe",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/health/ready",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "health",
                                "ready"
                            ]
                        },
                        "description": "Kubernetes readiness probe - check if ready to handle requests"
                    }
                }
            ]
        },
        {
            "name": "üóÑÔ∏è Database Operations",
            "description": "Database connectivity and statistics endpoints",
            "item": [
                {
                    "name": "Database Health",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/db/health",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "db",
                                "health"
                            ]
                        },
                        "description": "Check MongoDB connection health and status"
                    }
                },
                {
                    "name": "Database Status",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/db/status",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "db",
                                "status"
                            ]
                        },
                        "description": "Get detailed database status and connection information"
                    }
                },
                {
                    "name": "Database Info",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/db/info",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "db",
                                "info"
                            ]
                        },
                        "description": "Get comprehensive database information and metrics"
                    }
                },
                {
                    "name": "Database Ping",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/db/ping",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "db",
                                "ping"
                            ]
                        },
                        "description": "Simple database connectivity ping test"
                    }
                },
                {
                    "name": "Total Document Count",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/db/count",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "db",
                                "count"
                            ]
                        },
                        "description": "Get total number of documents in the database"
                    }
                },
                {
                    "name": "Pending Documents Count",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/db/pending-count",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "db",
                                "pending-count"
                            ]
                        },
                        "description": "Count documents with status 'pending' awaiting migration"
                    }
                },
                {
                    "name": "Success Documents Count",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/db/success-count",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "db",
                                "success-count"
                            ]
                        },
                        "description": "Count documents successfully migrated"
                    }
                }
            ]
        },
        {
            "name": "üîÑ Migration Management",
            "description": "Migration processing and job management endpoints",
            "item": [
                {
                    "name": "Start Migration",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"batchSize\": 500,\n    \"dryRun\": false\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/migrate",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "migrate"
                            ]
                        },
                        "description": "Start a new migration process for pending documents with configurable batch size"
                    }
                },
                {
                    "name": "Retry Failed Documents",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"batchSize\": 500,\n    \"dryRun\": false\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/migrate/retry-failed",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "migrate",
                                "retry-failed"
                            ]
                        },
                        "description": "Retry failed documents using the retry mechanism with enhanced error handling"
                    }
                },
                {
                    "name": "Complete Processing Documents",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"batchSize\": 500,\n    \"dryRun\": false\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/migrate/complete-processing",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "migrate",
                                "complete-processing"
                            ]
                        },
                        "description": "Complete documents that are stuck in processing status"
                    }
                },
                {
                    "name": "Process All Statuses",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"batchSize\": 500,\n    \"dryRun\": false\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/migrate/process-all",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "migrate",
                                "process-all"
                            ]
                        },
                        "description": "Process all pending statuses (pending, processing, failed) in one operation"
                    }
                },
                {
                    "name": "Fix Stuck Jobs",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/migrate/fix-stuck-jobs",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "migrate",
                                "fix-stuck-jobs"
                            ]
                        },
                        "description": "Fix job statuses that are stuck in invalid states"
                    }
                },
                {
                    "name": "Create Missing Migration Jobs",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/migrate/create-missing-migrations",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "migrate",
                                "create-missing-migrations"
                            ]
                        },
                        "description": "Create missing migration job entries for completed documents"
                    }
                },
                {
                    "name": "List All Migrations",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/migrate",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "migrate"
                            ]
                        },
                        "description": "Get list of all migration jobs"
                    }
                },
                {
                    "name": "Get Migration Status",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/migrate/status/:id",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "migrate",
                                "status",
                                ":id"
                            ],
                            "variable": [
                                {
                                    "key": "id",
                                    "value": "{{migrationId}}",
                                    "description": "Migration job ID"
                                }
                            ]
                        },
                        "description": "Get detailed status of a specific migration job including progress and batch information"
                    }
                },
                {
                    "name": "Get Batch Status",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/migrate/batch/:id",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "migrate",
                                "batch",
                                ":id"
                            ],
                            "variable": [
                                {
                                    "key": "id",
                                    "value": "{{batchId}}",
                                    "description": "Batch correlation ID"
                                }
                            ]
                        },
                        "description": "Get detailed status of a specific batch including processed items and timing"
                    }
                },
                {
                    "name": "Cancel Migration",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/migrate/cancel/:id",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "migrate",
                                "cancel",
                                ":id"
                            ],
                            "variable": [
                                {
                                    "key": "id",
                                    "value": "{{migrationId}}",
                                    "description": "Migration job ID to cancel"
                                }
                            ]
                        },
                        "description": "Cancel a running migration job"
                    }
                },
                {
                    "name": "Get Job History",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/migrate/jobs",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "migrate",
                                "jobs"
                            ]
                        },
                        "description": "Get detailed history of all migration jobs with timestamps and status updates"
                    }
                }
            ]
        },
        {
            "name": "üì¶ Queue Management",
            "description": "RabbitMQ queue operations and monitoring",
            "item": [
                {
                    "name": "Queue Statistics",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/queue/stats",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "queue",
                                "stats"
                            ]
                        },
                        "description": "Get comprehensive queue statistics including message counts, rates, and consumer status"
                    }
                },
                {
                    "name": "Queue Health Check",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/queue/health",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "queue",
                                "health"
                            ]
                        },
                        "description": "Check RabbitMQ connectivity and health status"
                    }
                },
                {
                    "name": "Consumer Status",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/queue/consumers/status",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "queue",
                                "consumers",
                                "status"
                            ]
                        },
                        "description": "Get detailed status of all queue consumers including processing rates"
                    }
                },
                {
                    "name": "Start Consumers",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/queue/consumers/start",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "queue",
                                "consumers",
                                "start"
                            ]
                        },
                        "description": "Start all queue consumer processes"
                    }
                },
                {
                    "name": "Stop Consumers",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/queue/consumers/stop",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "queue",
                                "consumers",
                                "stop"
                            ]
                        },
                        "description": "Stop all queue consumer processes"
                    }
                },
                {
                    "name": "Restart Consumers",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/queue/consumers/restart",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "queue",
                                "consumers",
                                "restart"
                            ]
                        },
                        "description": "Restart all queue consumer processes"
                    }
                },
                {
                    "name": "Purge Queue",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/queue/purge/:queueName",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "queue",
                                "purge",
                                ":queueName"
                            ],
                            "variable": [
                                {
                                    "key": "queueName",
                                    "value": "app.processing.queue",
                                    "description": "Name of queue to purge (app.processing.queue, app.priority.queue, app.deadletter.queue)"
                                }
                            ]
                        },
                        "description": "Purge all messages from a specific queue (processing, priority, or deadletter)"
                    }
                },
                {
                    "name": "Retry Dead Letters",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/queue/retry-dlq",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "queue",
                                "retry-dlq"
                            ]
                        },
                        "description": "Retry processing messages from dead letter queue back to main processing queue"
                    }
                },
                {
                    "name": "Test Publish",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"message\": \"Test message\",\n    \"routingKey\": \"process.bulkUpdate\",\n    \"priority\": 1\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/queue/test/publish",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "queue",
                                "test",
                                "publish"
                            ]
                        },
                        "description": "Publish a test message to the queue for testing consumer functionality"
                    }
                }
            ]
        },
        {
            "name": "üå± Data Seeding & Testing",
            "description": "Test data generation, database seeding, and comprehensive statistics",
            "item": [
                {
                    "name": "Seed SomeModel Documents",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"count\": 100\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/seed/some-model",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seed",
                                "some-model"
                            ]
                        },
                        "description": "Seed test SomeModel documents with realistic data for testing migration processes"
                    }
                },
                {
                    "name": "Seed JobStatus Documents",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"count\": 20\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/seed/job-status",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seed",
                                "job-status"
                            ]
                        },
                        "description": "Seed test JobStatus documents for migration job tracking"
                    }
                },
                {
                    "name": "Seed All Data",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"someModelCount\": 100,\n    \"jobStatusCount\": 10\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/seed/all",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seed",
                                "all"
                            ]
                        },
                        "description": "Seed all types of test data (SomeModel + JobStatus) in one operation"
                    }
                },
                {
                    "name": "Database Statistics",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/seed/stats",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seed",
                                "stats"
                            ]
                        },
                        "description": "Get comprehensive database statistics including document counts by status"
                    }
                },
                {
                    "name": "Clear Test Data",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"confirm\": \"yes-clear-all-data\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/seed/clear",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seed",
                                "clear"
                            ]
                        },
                        "description": "Clear all test data from the database (requires confirmation token)"
                    }
                },
                {
                    "name": "API Documentation",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/seed/docs",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "seed",
                                "docs"
                            ]
                        },
                        "description": "Interactive API documentation with all endpoints and examples"
                    }
                }
            ]
        }
    ],
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:3000",
            "description": "Base URL for the API (change to your deployment URL)"
        },
        {
            "key": "migrationId",
            "value": "",
            "description": "Migration job ID for status checks (auto-populated from migration responses)"
        },
        {
            "key": "batchId",
            "value": "",
            "description": "Batch correlation ID for batch status checks (e.g., batch-001, batch-002)"
        }
    ]
}